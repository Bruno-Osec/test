<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>API Request Example</title>
</head>
<body>

  <h1>API Response Example</h1>

  <script>
    var req = new XMLHttpRequest();
    req.onload = reqListener;
    req.open('GET', 'https://api.bpx.dev//wapi/v1/kyc/token', true);
    req.withCredentials = true;
    req.send();

    function reqListener() {
      try {
        // Parse the JSON response
        var response = JSON.parse(this.responseText); 
        
        // Extract 'token' and 'userId' fields
        var token = response.token;
        var userId = response.userId;

        // Print the extracted data to the console
        console.log('Token:', token);
        console.log('UserId:', userId);
      } catch (e) {
        console.error('Error parsing response:', e.message);
      }
    }
  </script>

</body>
</html>
